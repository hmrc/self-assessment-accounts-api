description:
  This endpoint enables you to retrieve the history of changes to an individual charge.
  A National Insurance number and transaction ID must be provided.

parameters:
  - $ref: "./common/headers.yaml#/components/parameters/acceptJson"
  - $ref: "./common/headers.yaml#/components/parameters/contentTypeJson"

responses:
  "200":
    description: Success
    headers:
      X-CorrelationId:
        $ref: "./common/headers.yaml#/components/parameters/correlationId"
    content:
    application/json:
      schema:
        $ref: "./schemas/retrieve_self_assessment_charge_history_response.json"
      examples:
        Request:
          value:
            $ref: "./examples/retrieveSelfAssementChargeHistory/retrieve_response.json"

  "400":
    description: Bad request
    content:
      application/json:
        examples:
          FORMAT_NINO:
            $ref: "./common/errors.yaml#/components/examples/formatNino"
          FORMAT_TRANSACTION_ID:
            $ref: "./common/errors.yaml#/components/examples/formatTransactionId"

  "403":
    description: Forbidden
    content:
      application/json:
        examples:
          CLIENT_OR_AGENT_NOT_AUTHORISED:
            $ref: "./common/errors.yaml#/components/examples/clientOrAgentNotAuthorised"

  "404":
    description: Not found
    content:
      application/json:
        examples:
          NOT_FOUND:
            $ref: "./common/errors.yaml#/components/examples/notFound"
