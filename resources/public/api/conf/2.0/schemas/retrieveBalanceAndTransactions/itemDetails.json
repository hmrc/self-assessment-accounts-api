{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "title": "Retrieve History of a Self Assessment Charge",
  "description": "This endpoint enables you to retrieve the history of changes to a single charge made by HMRC. A National Insurance number and transaction ID must be provided.",
  "type": "array",
  "items": {
    "type": "object",
    "description": "The list of items as part of the financial details",
    "properties": {
      "itemId": {
        "description": "An identifier for the item in the list.",
        "type": "string",
        "example": "001"
      },
      "dueDate": {
        "description": "If the requested item relates to a charge, the due date is the date by which the amount is due to be paid. If the requested item relates to a payment, the due date refers to the date the payment was made to HMRC in the format YYY-MM-DD",
        "type": "string",
        "example": "2018-04-05"
      },
      "amount": {
        "description": "The amount that this entry changed the transaction by. The value must be between -99999999999.99 and 99999999999.99 to 2 decimal places.",
        "type": "number",
        "multipleOf": 0.01,
        "minimum": -99999999999.99,
        "maximum": 99999999999.99,
        "example": "5009.99"
      },
      "clearingDate": {
        "description": "The date this entry changed the item, in the format YYYY-MM-DD.",
        "type": "string",
        "example": "2018-04-05"
      },
      "clearingReason": {
        "description": "The reason for the change to the item.",
        "type": "string",
        "example": "Incoming Payment",
        "enum": [
          "Incoming Payment",
          "Outgoing Payment",
          "Reversal",
          "Manual Clearing",
          "Automatic Clearing"
        ]
      },
      "outgoingPaymentMethod": {
        "description": "The method used to make the outgoing payment. One of Repayment to Card, Payable Order Repayment or BACS Payment out",
        "example": "Payable Order Repayment",
        "type": "string",
        "enum": [
          "Repayment to Card",
          "Payable Order Repayment",
          "BACS Payment out"
        ]
      },
      "isChargeOnHold": {
        "description": "A signal that indicates that the charge has been paused whilst under review or investigation.",
        "type": "boolean",
        "example": "false"
      },
      "isEstimatedChargeOnHold": {
        "description": "A clearing lock is used only for statistical or forecasted charges.",
        "type": "boolean",
        "example": "false"
      },
      "isInterestAccrualOnHold": {
        "description": "Indicates if the charge is not accruing interest due to a review or investigation.",
        "type": "boolean",
        "example": "true"
      },
      "isInterestChargeOnHold": {
        "description": "A lock has been put in so the interest will not be charged to the customer.",
        "type": "boolean",
        "example": "true"
      },
      "isReturn": {
        "description": "If it is true, that means the charge has been generated by a return.",
        "type": "boolean",
        "example": "true"
      },
      "paymentReference": {
        "description": "A unique reference number is associated with the payment.",
        "type": "string",
        "example": "Ab12453535"
      },
      "paymentAmount": {
        "description": "If the item relates to a payment, the payment amount is the amount of the payment received into the account.\n\nIf the item relates to a charge, the payment amount is the amount that this entry changed the transaction by. The value must be between -99999999999.99 and 99999999999.99 to 2 decimal places.",
        "type": "number",
        "multipleOf": 0.01,
        "minimum": -99999999999.99,
        "maximum": 99999999999.99,
        "example": "5009.99"
      },
      "paymentMethod": {
        "description": "The method used to make the payment.",
        "type": "string",
        "example": "BACS RECEIPTS"
      },
      "paymentLot": {
        "description": "If the item is a payment, the payment lot is a unique identifier for a credit. If the item is a charge, the payment lot is a unique identifier for an allocation within the charge and allows you to identify where the payment came from.",
        "type": "string",
        "example": "81203010024"
      },
      "paymentLotItem": {
        "description": "A unique ID is used in combination with a payment ID to refer to an individual payment or credit.",
        "type": "string",
        "example": "000001"
      },
      "clearingSAPDocument": {
        "description": "When a payment is used against a charge, this links payment and charge together.",
        "type": "string",
        "example": "3350000253"
      },
      "isChargeEstimate": {
        "description": "Indicates whether the item represents an estimated charge.",
        "type": "boolean",
        "example": "true"
      }
    },
    "required": [
      "isChargeOnHold",
      "isEstimatedChargeOnHold",
      "isInterestAccrualOnHold",
      "isInterestChargeOnHold"
    ]
  }
}

